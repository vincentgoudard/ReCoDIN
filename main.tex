%% LLT: Turn off some annoying warnings...
\RequirePackage{silence}
\WarningFilter{titlesec}{Non standard sectioning command}
\WarningFilter{scrreprt}{Usage of package}
\WarningFilter{scrreprt}{Activating an ugly workaround}

% !TEX TS–program = pdflatexmk

% **************************************************
% Document Class Definition
% **************************************************
\documentclass[%
	paper=A4,					% paper size --> A4 is default in Germany
	twoside=true,				% onesite or twoside printing
	openright,					% doublepage cleaning ends up right side
	parskip=full,				% spacing value / method for paragraphs
	chapterprefix=true,			% prefix for chapter marks
	11pt,						% font size
	headings=normal,			% size of headings
	bibliography=totoc,			% include bib in toc
	listof=totoc,				% include listof entries in toc
	titlepage=on,				% own page for each title page
	captions=tableabove,		% display table captions above the float env
	draft=false,				% value for draft version
]{scrreprt}%
	
% **************************************************
% Debug LaTeX Information
% **************************************************
%\listfiles

% **************************************************
% Load and Configure Packages
% **************************************************
\usepackage[utf8]{inputenc}		% defines file's character encoding
\usepackage[french, english]{babel} % babel system, adjust the language of the content
\usepackage[					% clean thesis style
	figuresep=colon,%
	sansserif=false,%
	hangfigurecaption=false,%
	hangsection=true,%
	hangsubsection=true,%
	colorize=full,%
	colortheme=bluemagenta,%
% LLT: Use biber if using UTF8 encoding
% 	bibsys=bibtex,%
	bibsys=biber,%
	bibfile=./thesis.bib,%
	bibstyle=alphabetic,%
]{cleanthesis}

\usepackage[yyyymmdd,hhmmss]{datetime}

\hypersetup{					% setup the hyperref-package options
	%pdftitle={\thesisTitle},	% 	- title (PDF meta)   (VG : ne fonctionne pas)
	%pdfsubject={\thesisSubject},% 	- subject (PDF meta) (VG : ne fonctionne pas)
	%pdfauthor={\thesisName},	% 	- author (PDF meta) (VG : ne fonctionne pas)
	plainpages=false,			% 	-
	colorlinks=false,			% 	- colorize links?
	pdfborder={0 0 0},			% 	-
	breaklinks=true,			% 	- allow line break inside links
	bookmarksnumbered=true,		%
	bookmarksopen=true			%
}


% **************************************************
% Glossary of acronyms
% **************************************************
\usepackage[acronym]{glossaries}
\makenoidxglossaries
\loadglsentries{content/glossary}
\glstoctrue

%% modsuper glossary display style (pour ne pas avoir de marge à gauche)
%% cf. https://tex.stackexchange.com/questions/415275/flush-glossaries-super-style-to-left
\newglossarystyle{modsuper}{%
\glossarystyle{super}%
\renewenvironment{theglossary}%
    {\tablehead{}\tabletail{}%
     \begin{supertabular}{@{}lp{\glsdescwidth}}}%<----no margin
    {\end{supertabular}}%
\renewcommand{\glsgroupskip}{}%
\renewcommand*{\glossaryentryfield}[5]{%
\glsentryitem{##1}\glstarget{##1}{##2} & ##3\glspostdescription\space ##5\\[2pt]}%
}


% **************************************************
% Annexes
% **************************************************
\usepackage[toc,page]{appendix}

% **************************************************
% Information and Commands for Reuse
% **************************************************
\newcommand{\thesisTitle}{Représentation et contrôle dans le design interactif des instruments de musique numériques}
\newcommand{\thesisName}{Vincent Goudard}
\newcommand{\thesisSubject}{Ecole doctorale SMAER}
\newcommand{\thesisDate}{2019}
\newcommand{\thesisVersion}{\today\ — \currenttime}

\newcommand{\thesisFirstReviewer}{Jane Doe}
\newcommand{\thesisFirstReviewerUniversity}{\protect{Clean Thesis Style University}}
\newcommand{\thesisFirstReviewerDepartment}{Department of Clean Thesis Style}

\newcommand{\thesisSecondReviewer}{John Doe}
\newcommand{\thesisSecondReviewerUniversity}{\protect{Clean Thesis Style University}}
\newcommand{\thesisSecondReviewerDepartment}{Department of Clean Thesis Style}

\newcommand{\thesisFirstSupervisor}{Pierre Couprie}
\newcommand{\thesisSecondSupervisor}{Jean-Dominique Polack}
\newcommand{\thesisFirstAdvisor}{Hugues Genevois}


\newcommand{\thesisUniversity}{\protect{Sorbonne Université}}
\newcommand{\thesisUniversityDepartment}{Equipe Lutherie Acoustique Musique - Institut $\partial$'Alembert}
\newcommand{\thesisUniversityInstitute}{Institut de Recherche en Musicologie (IReMus)}
%\newcommand{\thesisUniversityGroup}{Collegium Musicæ}
\newcommand{\thesisUniversityCity}{PARIS}
\newcommand{\thesisUniversityStreetAddress}{4, Place Jussieu}
\newcommand{\thesisUniversityPostalCode}{75252}


\graphicspath{{./gfx/}} %Where the figures folder is located

% **************************************************
% Document CONTENT
% **************************************************
\begin{document}

% --------------------------
% rename document parts
% --------------------------
%\renewcaptionname{ngerman}{\figurename}{Abb.}	
%\renewcaptionname{ngerman}{\tablename}{Tab.}
\renewcaptionname{english}{\figurename}{Fig.}
\renewcaptionname{english}{\tablename}{Tab.}

% --------------------------
% Front matter
% --------------------------
\pagenumbering{roman}			% roman page numbing (invisible for empty page style)
\pagestyle{empty}				% no header or footers
\input{content/titlepages}		% INCLUDE: all titlepages

%\cleardoublepage

\pagestyle{plain}				% display just page numbers
\input{content/abstract}		% INCLUDE: the abstracts (english and german)

%\clearpage %

\input{content/acknowledgement} % INCLUDE: acknowledgement

\clearpage
\selectlanguage{french}
\setcounter{tocdepth}{2}		% define depth of toc
\tableofcontents				% display table of contents

%\cleardoublepage%

% --------------------------
% Body matter
% --------------------------
\pagenumbering{arabic}			% arabic page numbering
\setcounter{page}{1}			% set page counter
\pagestyle{maincontentstyle} 	% fancy header and footer
%\clearpage



\input{content/01.preamble} % INCLUDE: preamble
%\input{content/02.ephemeral_instruments} % INCLUDE: introduction
\input{content/03.musical_gesture} % INCLUDE: interface
\input{content/04.interfaces} % INCLUDE: interface
\input{content/05.algorithms}	% INCLUDE: mapping
\input{content/06.visual_representation} % INCLUDE: visual_representatio
\input{content/07.notation} % INCLUDE: notation
\input{content/conclusion} % INCLUDE: conclusion

\printnoidxglossaries

% \cleardoublepage



% --------------------------
% Back matter
% --------------------------
{%
\setstretch{1.1}
\renewcommand{\bibfont}{\normalfont\small}
\setlength{\biblabelsep}{0pt}
\setlength{\bibitemsep}{0.5\baselineskip plus 0.5\baselineskip}
\printbibliography[title={Références}, nottype=online]
\printbibliography[heading=subbibliography,title={Sites web},type=online,prefixnumbers={@}]
}

\clearpage

\listoffigures
\addcontentsline{toc}{chapter}{\listfigurename}

\clearpage

\listoftables
\addcontentsline{toc}{chapter}{\listtablename}

\clearpage

\input{content/colophon}

%\cleardoublepage

\input{content/declaration}
\clearpage
\newpage
\mbox{}

% **************************************************
% End of Document CONTENT
% **************************************************

\begin{appendices}
\input{content/appendix.bernier} 
\input{content/appendix.collins}
\input{content/appendix.dumeaux} 
\input{content/appendix.delaubier}
\input{content/appendix.fernandez} 
\input{content/appendix.mamoumani} 
\input{content/appendix.saintdenis} 
\input{content/appendix.turchet} 
\input{content/appendix.zamborlin} 
\end{appendices}

\end{document}
